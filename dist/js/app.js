!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/js",n(n.s=93)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(15));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,null,[{key:"setSprite",value:function(e){var t=document.createElement("img");return t.setAttribute("src",e),t}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"delay",value:function(e,t){return function(){var n=this,i=arguments;setTimeout(function(){e.apply(n,i)},t)}}},{key:"get_force_vector",value:function(e){return{x:Math.cos(e*(Math.PI/180)),y:Math.sin(e*(Math.PI/180))}}},{key:"turning_point_by_angle",value:function(e,t,n,i,a){return{x:n+(e-n)*Math.cos(a*Math.PI/180)+(i-t)*Math.sin(a*Math.PI/180),y:i+(e-n)*Math.sin(a*Math.PI/180)+(t-i)*Math.cos(a*Math.PI/180)}}},{key:"is_lines_intersected",value:function(e,t,n,i,a,r,o,s){var u=!0;return((a-e)*(i-t)-(r-t)*(n-e))*((o-e)*(i-t)-(s-t)*(n-e))>0&&(u=!1),((e-a)*(s-r)-(t-r)*(o-a))*((n-a)*(s-r)-(i-r)*(o-a))>0&&(u=!1),u}},{key:"shuffleCollection",value:function(e){function t(e,t){return Math.random()-.5}for(var n=0;n<100;n++)e.sort(t)}},{key:"transferObjToNewArr",value:function(e,t,n){var i=0,a=0;t.forEach(function(t){e===t&&(i=a),a++});var r=Object.assign({},e);t[i]=null,n.push(r),t.splice(i,1)}},{key:"deleteObjFromArr",value:function(e,t){var n=0,i=0;t.forEach(function(t){e===t&&(n=i),i++}),t[n]=null,t.splice(n,1)}},{key:"getScaled",value:function(e,t){return 0-(0-e)/t}},{key:"myTranslate",value:function(e,t,n){return{x:n.x+e,y:n.y+t}}}]),e}();t.default=o},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(13),a=n(45),r=n(34),o=Object.defineProperty;t.f=n(4)?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),a)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(26)("wks"),a=n(16),r=n(2).Symbol,o="function"==typeof r;(e.exports=function(e){return i[e]||(i[e]=o&&r[e]||(o?r:a)("Symbol."+e))}).store=i},function(e,t,n){var i=n(79),a=n(31);e.exports=function(e){return i(a(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(5),a=n(18);e.exports=n(4)?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";t.__esModule=!0;var i=o(n(58)),a=o(n(54)),r=o(n(42));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,r.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(42));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){var i=n(9);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(2),a=n(6),r=n(46),o=n(10),s=n(3),u=function(e,t,n){var l,c,f,d=e&u.F,h=e&u.G,p=e&u.S,y=e&u.P,b=e&u.B,g=e&u.W,m=h?a:a[t]||(a[t]={}),v=m.prototype,_=h?i:p?i[t]:(i[t]||{}).prototype;for(l in h&&(n=t),n)(c=!d&&_&&void 0!==_[l])&&s(m,l)||(f=c?_[l]:n[l],m[l]=h&&"function"!=typeof _[l]?n[l]:b&&c?r(f,i):g&&_[l]==f?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):y&&"function"==typeof f?r(Function.call,f):f,y&&((m.virtual||(m.virtual={}))[l]=f,e&u.R&&v&&!v[l]&&o(v,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(91));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,i.default)(e,a.key,a)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(12)),r=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n,r,o,s){(0,i.default)(this,t);var u=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,o,s));return u.gameObject.movement={x:0,y:0},u.gameObject.maxSpeed=1,u.gameObject.damage_flatten=1,u.gameObject.acceleration=1,u.gameObject.turning_body_speed=1,u}return(0,r.default)(t,e),t}(o(n(43)).default);t.default=s},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(2),a=n(6),r=n(17),o=n(23),s=n(5).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=r?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){t.f=n(7)},function(e,t,n){var i=n(5).f,a=n(3),r=n(7)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(6),a=n(2),r=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(17)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var i=n(26)("keys"),a=n(16);e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t,n){var i=n(39),a=n(25);e.exports=Object.keys||function(e){return i(e,a)}},function(e,t,n){var i=n(13),a=n(80),r=n(25),o=n(27)("IE_PROTO"),s=function(){},u=function(){var e,t=n(44)("iframe"),i=r.length;for(t.style.display="none",n(75).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;i--;)delete u.prototype[r[i]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[o]=e):n=u(),void 0===t?n:a(n,t)}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(15));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,null,[{key:"setAudioTrack",value:function(e){var t=new Audio;return t.src=e,t}},{key:"playTrack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.addEventListener("loadeddata",function(){e.play(),n&&e.pause()},!1),e.src=t,e}},{key:"pausePlay",value:function(e){e.pause()}},{key:"playBackGroundPlaylist",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new Audio,a=0;return i.addEventListener("ended",function(){a==t.length-1?(a=0,e.playTrack(i,t[a])):(a++,i.src=null,e.playTrack(i,t[a]))},!1),e.playTrack(i,t[0],n),i}},{key:"decreaseMusicVol",value:function(e,t){e.volume>=t?e.volume=e.volume-t:e.volume>0&&(e.volume=0)}},{key:"increaseMusicVol",value:function(e,t){e.volume<=1-t?e.volume=e.volume+t:e.volume<1&&(e.volume=1)}},{key:"musicPause_Unpause",value:function(e){e.paused?e.play():e.pause()}},{key:"playSoundRepeatly",value:function(t,n){e.playTrack(t,n),t.loop=!0}}]),e}();t.default=o},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!i(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!i(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!i(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(21),a=n(18),r=n(8),o=n(34),s=n(3),u=n(45),l=Object.getOwnPropertyDescriptor;t.f=n(4)?l:function(e,t){if(e=r(e),t=o(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(39),a=n(25).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,a)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(3),a=n(8),r=n(78)(!1),o=n(27)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),u=0,l=[];for(n in s)n!=o&&i(s,n)&&l.push(n);for(;t.length>u;)i(s,n=t[u++])&&(~r(l,n)||l.push(n));return l}},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";var i=n(17),a=n(14),r=n(40),o=n(10),s=n(30),u=n(81),l=n(24),c=n(74),f=n(7)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,y,b,g){u(n,t,p);var m,v,_,O=function(e){if(!d&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},j=t+" Iterator",x="values"==y,w=!1,k=e.prototype,S=k[f]||k["@@iterator"]||y&&k[y],P=S||O(y),M=y?x?O("entries"):P:void 0,T="Array"==t&&k.entries||S;if(T&&(_=c(T.call(new e)))!==Object.prototype&&_.next&&(l(_,j,!0),i||"function"==typeof _[f]||o(_,f,h)),x&&S&&"values"!==S.name&&(w=!0,P=function(){return S.call(this)}),i&&!g||!d&&!w&&k[f]||o(k,f,P),s[t]=P,s[j]=h,y)if(m={values:x?P:O("values"),keys:b?P:O("keys"),entries:M},g)for(v in m)v in k||r(k,v,m[v]);else a(a.P+a.F*(d||w),t,m);return m}},function(e,t,n){"use strict";t.__esModule=!0;var i=o(n(85)),a=o(n(68)),r="function"==typeof a.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof a.default&&"symbol"===r(i.default)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(0)),a=l(n(12)),r=l(n(11)),o=l(n(51)),s=l(n(50)),u=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,r,o,l){var c;((0,i.default)(this,t),-1!==e.indexOf("crutch"))?(e=e.slice(0,e.length-6),(c=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,o,l))).gameObject.colliders=new s.default(o,l)[e]):((c=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,o,l))).gameObject.colliders=new s.default(o,l)[e],c.gameObject.sprite=u.default.setSprite("img/statics/"+e+".png"));return c.gameObject.hp=30,(0,a.default)(c)}return(0,r.default)(t,e),t}(o.default);t.default=c},function(e,t,n){var i=n(9),a=n(2).document,r=i(a)&&i(a.createElement);e.exports=function(e){return r?a.createElement(e):{}}},function(e,t,n){e.exports=!n(4)&&!n(19)(function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(88);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(0)),a=u(n(12)),r=u(n(11)),o=u(n(20)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,r,o,u){(0,i.default)(this,t);var l=e+"crutch",c=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l,n,r,o,u));return c.gameObject.sprite=s.default.setSprite("img/bullets/"+e+".png"),c.gameObject.death_sprite=s.default.setSprite("img/statics/crater_"+s.default.getRandomInt(1,4)+".png"),c.gameObject.hp=50,c.gameObject.range=35,c.gameObject.speed=20,c.gameObject.damage=10,c}return(0,r.default)(t,e),t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(0)),a=u(n(12)),r=u(n(11)),o=u(n(20)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,r,o,u){(0,i.default)(this,t);var l=e+"crutch",c=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l,n,r,o,u));return c.gameObject.sprite=s.default.setSprite("img/enemies/"+e+"/skeleton-move_0.png"),c.gameObject.death_sprite=s.default.setSprite("img/bloodsplats/bloodsplats_"+s.default.getRandomInt(1,8)+".png"),c.gameObject.rotation=s.default.getRandomInt(0,361),c.gameObject.entered_damage=1,c.gameObject.acceleration=.05,c.gameObject.hp=1,c.gameObject.animation={number_start_sprite:s.default.getRandomInt(0,17),total_sprites:16,animator:function(t){var n=s.default.getRandomInt(0,17);var i=s.default.delay(function(n){n>t.gameObject.animation.total_sprites-1?n=0:n++,t.gameObject.sprite=s.default.setSprite("img/enemies/"+e+"/skeleton-move_"+n+".png"),i(n)},100);t&&i(n)}(c)},c.gameObject.AI={autochangeDirection:function(e){var t=s.default.getRandomInt(50,500);var n=s.default.delay(function(){var t=s.default.getRandomInt(0,15);e.gameObject.rotation=e.gameObject.rotation+t,n()},t);e&&n()}(c)},c}return(0,r.default)(t,e),t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(0)),a=u(n(12)),r=u(n(11)),o=u(n(20)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,r,o,u){(0,i.default)(this,t);var l=e+"crutch",c=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l,n,r,o,u));return c.gameObject.hp=100,c.gameObject.sprite=s.default.setSprite("img/player/"+e+".png"),c.gameObject.death_sprite=s.default.setSprite("img/statics/crater_2.png"),c.gameObject.child="",c.gameObject.pressedKeys={left:!1,right:!1,up:!1,down:!1,tower_left:!1,tower_right:!1,fire:!1,fire_machinegun:!1},c.gameObject.guns={big_gun:{reloading:!1,reloading_time:2e3,bias_factor:60},machinegun:{reloading:!1,reloading_time:100,bias_factor:20}},c.gameObject.damage_flatten=50,c.gameObject.maxSpeed=4,c.gameObject.acceleration=.1,c.gameObject.turning_body_speed=.8,c.gameObject.turning_tower_speed=1.2,c}return(0,r.default)(t,e),t}(o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n){(0,i.default)(this,e),this.base={sprite_size:{width:185,height:185},points:[{x:a.default.getScaled(-92,185/t),y:a.default.getScaled(-92,185/n)},{x:a.default.getScaled(92,185/t),y:a.default.getScaled(-92,185/n)},{x:a.default.getScaled(92,185/t),y:a.default.getScaled(92,185/n)},{x:a.default.getScaled(-92,185/t),y:a.default.getScaled(92,185/n)},{x:a.default.getScaled(-92,185/t),y:a.default.getScaled(-92,185/n)}]},this.zombie={sprite_size:{width:288,height:311},points:[{x:a.default.getScaled(-96,288/t),y:a.default.getScaled(-5,311/n)},{x:a.default.getScaled(-59,288/t),y:a.default.getScaled(-62,311/n)},{x:a.default.getScaled(-21,288/t),y:a.default.getScaled(-95,311/n)},{x:a.default.getScaled(11,288/t),y:a.default.getScaled(-104,311/n)},{x:a.default.getScaled(64,288/t),y:a.default.getScaled(-78,311/n)},{x:a.default.getScaled(69,288/t),y:a.default.getScaled(-61,311/n)},{x:a.default.getScaled(53,288/t),y:a.default.getScaled(-49,311/n)},{x:a.default.getScaled(28,288/t),y:a.default.getScaled(-63,311/n)},{x:a.default.getScaled(28,288/t),y:a.default.getScaled(-74,311/n)},{x:a.default.getScaled(1,288/t),y:a.default.getScaled(-76,311/n)},{x:a.default.getScaled(-21,288/t),y:a.default.getScaled(-48,311/n)},{x:a.default.getScaled(26,288/t),y:a.default.getScaled(-16,311/n)},{x:a.default.getScaled(26,288/t),y:a.default.getScaled(23,311/n)},{x:a.default.getScaled(-7,288/t),y:a.default.getScaled(49,311/n)},{x:a.default.getScaled(15,288/t),y:a.default.getScaled(67,311/n)},{x:a.default.getScaled(49,288/t),y:a.default.getScaled(68,311/n)},{x:a.default.getScaled(52,288/t),y:a.default.getScaled(55,311/n)},{x:a.default.getScaled(76,288/t),y:a.default.getScaled(45,311/n)},{x:a.default.getScaled(92,288/t),y:a.default.getScaled(60,311/n)},{x:a.default.getScaled(79,288/t),y:a.default.getScaled(81,311/n)},{x:a.default.getScaled(61,288/t),y:a.default.getScaled(81,311/n)},{x:a.default.getScaled(25,288/t),y:a.default.getScaled(96,311/n)},{x:a.default.getScaled(0,288/t),y:a.default.getScaled(94,311/n)},{x:a.default.getScaled(-74,288/t),y:a.default.getScaled(47,311/n)},{x:a.default.getScaled(-96,288/t),y:a.default.getScaled(-5,311/n)}]},this.tank={sprite_size:{width:150,height:100},points:[{x:a.default.getScaled(-75,150/t),y:a.default.getScaled(-50,100/n)},{x:a.default.getScaled(75,150/t),y:a.default.getScaled(-50,100/n)},{x:a.default.getScaled(75,150/t),y:a.default.getScaled(50,100/n)},{x:a.default.getScaled(-75,150/t),y:a.default.getScaled(50,100/n)},{x:a.default.getScaled(-75,150/t),y:a.default.getScaled(-50,100/n)}]},this.tank_bullet={sprite_size:{width:18,height:18},points:[{x:a.default.getScaled(-9,18/t),y:a.default.getScaled(-9,18/n)},{x:a.default.getScaled(9,18/t),y:a.default.getScaled(-9,18/n)},{x:a.default.getScaled(9,18/t),y:a.default.getScaled(9,18/n)},{x:a.default.getScaled(-9,18/t),y:a.default.getScaled(9,18/n)},{x:a.default.getScaled(-9,18/t),y:a.default.getScaled(-9,18/n)}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function e(t,n,a,r,o){(0,i.default)(this,e),this.gameObject={name:t,position:{x:n,y:a},rotation:0,size:{width:r,height:o}}}},function(e,t,n){var i=n(14);i(i.S,"Object",{create:n(29)})},function(e,t,n){n(52);var i=n(6).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){e.exports={default:n(53),__esModule:!0}},function(e,t,n){var i=n(9),a=n(13),r=function(e,t){if(a(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(46)(Function.call,n(35).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:r}},function(e,t,n){var i=n(14);i(i.S,"Object",{setPrototypeOf:n(55).set})},function(e,t,n){n(56),e.exports=n(6).Object.setPrototypeOf},function(e,t,n){e.exports={default:n(57),__esModule:!0}},function(e,t,n){n(22)("observable")},function(e,t,n){n(22)("asyncIterator")},function(e,t){},function(e,t,n){var i=n(8),a=n(36).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(i(e))}},function(e,t,n){var i=n(38);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(28),a=n(37),r=n(21);e.exports=function(e){var t=i(e),n=a.f;if(n)for(var o,s=n(e),u=r.f,l=0;s.length>l;)u.call(e,o=s[l++])&&t.push(o);return t}},function(e,t,n){var i=n(16)("meta"),a=n(9),r=n(3),o=n(5).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(19)(function(){return u(Object.preventExtensions({}))}),c=function(e){o(e,i,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,i)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[i].i},getWeak:function(e,t){if(!r(e,i)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[i].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!r(e,i)&&c(e),e}}},function(e,t,n){"use strict";var i=n(2),a=n(3),r=n(4),o=n(14),s=n(40),u=n(65).KEY,l=n(19),c=n(26),f=n(24),d=n(16),h=n(7),p=n(23),y=n(22),b=n(64),g=n(63),m=n(13),v=n(9),_=n(8),O=n(34),j=n(18),x=n(29),w=n(62),k=n(35),S=n(5),P=n(28),M=k.f,T=S.f,E=w.f,A=i.Symbol,B=i.JSON,L=B&&B.stringify,C=h("_hidden"),z=h("toPrimitive"),I={}.propertyIsEnumerable,G=c("symbol-registry"),N=c("symbols"),R=c("op-symbols"),F=Object.prototype,K="function"==typeof A,D=i.QObject,V=!D||!D.prototype||!D.prototype.findChild,H=r&&l(function(){return 7!=x(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=M(F,t);i&&delete F[t],T(e,t,n),i&&e!==F&&T(F,t,i)}:T,W=function(e){var t=N[e]=x(A.prototype);return t._k=e,t},q=K&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},J=function(e,t,n){return e===F&&J(R,t,n),m(e),t=O(t,!0),m(n),a(N,t)?(n.enumerable?(a(e,C)&&e[C][t]&&(e[C][t]=!1),n=x(n,{enumerable:j(0,!1)})):(a(e,C)||T(e,C,j(1,{})),e[C][t]=!0),H(e,t,n)):T(e,t,n)},Z=function(e,t){m(e);for(var n,i=b(t=_(t)),a=0,r=i.length;r>a;)J(e,n=i[a++],t[n]);return e},U=function(e){var t=I.call(this,e=O(e,!0));return!(this===F&&a(N,e)&&!a(R,e))&&(!(t||!a(this,e)||!a(N,e)||a(this,C)&&this[C][e])||t)},Y=function(e,t){if(e=_(e),t=O(t,!0),e!==F||!a(N,t)||a(R,t)){var n=M(e,t);return!n||!a(N,t)||a(e,C)&&e[C][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=E(_(e)),i=[],r=0;n.length>r;)a(N,t=n[r++])||t==C||t==u||i.push(t);return i},X=function(e){for(var t,n=e===F,i=E(n?R:_(e)),r=[],o=0;i.length>o;)!a(N,t=i[o++])||n&&!a(F,t)||r.push(N[t]);return r};K||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(R,n),a(this,C)&&a(this[C],e)&&(this[C][e]=!1),H(this,e,j(1,n))};return r&&V&&H(F,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),k.f=Y,S.f=J,n(36).f=w.f=Q,n(21).f=U,n(37).f=X,r&&!n(17)&&s(F,"propertyIsEnumerable",U,!0),p.f=function(e){return W(h(e))}),o(o.G+o.W+o.F*!K,{Symbol:A});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)h($[ee++]);for(var te=P(h.store),ne=0;te.length>ne;)y(te[ne++]);o(o.S+o.F*!K,"Symbol",{for:function(e){return a(G,e+="")?G[e]:G[e]=A(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in G)if(G[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!K,"Object",{create:function(e,t){return void 0===t?x(e):Z(x(e),t)},defineProperty:J,defineProperties:Z,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Q,getOwnPropertySymbols:X}),B&&o(o.S+o.F*(!K||l(function(){var e=A();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(n=t=i[1],(v(t)||void 0!==e)&&!q(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),i[1]=t,L.apply(B,i)}}),A.prototype[z]||n(10)(A.prototype,z,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(e,t,n){n(66),n(61),n(60),n(59),e.exports=n(6).Symbol},function(e,t,n){e.exports={default:n(67),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var i=n(70),a=n(69),r=n(30),o=n(8);e.exports=n(41)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(e,t,n){n(71);for(var i=n(2),a=n(10),r=n(30),o=n(7)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=i[l],f=c&&c.prototype;f&&!f[o]&&a(f,o,l),r[l]=r.Array}},function(e,t,n){var i=n(31);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(3),a=n(73),r=n(27)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),i(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){var i=n(2).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(32),a=Math.max,r=Math.min;e.exports=function(e,t){return(e=i(e))<0?a(e+t,0):r(e,t)}},function(e,t,n){var i=n(32),a=Math.min;e.exports=function(e){return e>0?a(i(e),9007199254740991):0}},function(e,t,n){var i=n(8),a=n(77),r=n(76);e.exports=function(e){return function(t,n,o){var s,u=i(t),l=a(u.length),c=r(o,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var i=n(38);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(5),a=n(13),r=n(28);e.exports=n(4)?Object.defineProperties:function(e,t){a(e);for(var n,o=r(t),s=o.length,u=0;s>u;)i.f(e,n=o[u++],t[n]);return e}},function(e,t,n){"use strict";var i=n(29),a=n(18),r=n(24),o={};n(10)(o,n(7)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(o,{next:a(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var i=n(32),a=n(31);e.exports=function(e){return function(t,n){var r,o,s=String(a(t)),u=i(n),l=s.length;return u<0||u>=l?e?"":void 0:(r=s.charCodeAt(u))<55296||r>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):r:e?s.slice(u,u+2):o-56320+(r-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(82)(!0);n(41)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(83),n(72),e.exports=n(23).f("iterator")},function(e,t,n){e.exports={default:n(84),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n(0)),a=f(n(15)),r=f(n(33)),o=f(n(1)),s=f(n(43)),u=f(n(49)),l=f(n(48)),c=f(n(47));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n,a,o){(0,i.default)(this,e),this.width=t,this.height=n,this.canvas=document.createElement("canvas"),this.bckClr=a,this.ctx=this.canvas.getContext("2d"),this.playerObj,this.baseObj,this.staticObjs=[],this.enemyObjs=[],this.decorObjs=[],this.bulletObjs=[],this.left_bots=5,this.sound_tank_moving=r.default.setAudioTrack("audio/sounds/player/tank_moving.mp3"),this.sound_tank_moving.volume=.2,this.gameLoopRunning=!1}return(0,a.default)(e,[{key:"createCanvas",value:function(){this.canvas.setAttribute("width",this.width+"px"),this.canvas.setAttribute("height",this.height+"px"),this.canvas.style.backgroundColor=this.bckClr,document.body.appendChild(this.canvas)}},{key:"createNewGameObject",value:function(e,t,n,i,a,r){var o=void 0;switch(r){case"base":return o=new s.default(e,t,n,i,a).gameObject,this.baseObj=o,o;case"bullet":return o=new c.default(e,t,n,i,a).gameObject,this.bulletObjs.push(o),o;case"player":return o=new u.default(e,t,n,i,a).gameObject,this.playerObj=o,o;case"child":return o=new u.default(e,t,n,i,a).gameObject;case"static":return o=new s.default(e,t,n,i,a).gameObject,this.staticObjs.push(o),o;case"enemy":return o=new l.default(e,t,n,i,a).gameObject,this.enemyObjs.push(o),o;case"decorate":return o=new s.default(e,t,n,i,a).gameObject,this.decorObjs.push(o),o;default:throw"createNewGameObject() type object unknown"}}},{key:"startGameLoop",value:function(){var e=this,t=void 0,n=0,i=r(),a=1/60;function r(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}this.gameLoopRunning=!0,requestAnimationFrame(function o(){if(e.gameLoopRunning){for(t=r(),n+=Math.min(1,(t-i)/1e3);n>a;)n-=a,e.update();e.render(),i=t,requestAnimationFrame(o)}})}},{key:"update",value:function(){!this.is_gameOver()>0&&this.left_bots>0?(this.tankSoundMoving(),this.tryToShoot(),this.collisionEvents(),this.chkAllObjsHpAndKill(),this.updateRotation(),this.updateMovement(),this.updatePosition()):(this.stopAllContinuousAction(),this.is_gameOver()?(this.showLoseWindow(),this.gameLoopRunning=!1):this.left_bots<1&&(this.showWinWindow(),this.gameLoopRunning=!1))}},{key:"chkAllObjsHpAndKill",value:function(){this.chkPlayerHPAndKill(),this.chkAllBotsHPAndKill(),this.chkAllBulletsHPAndKill()}},{key:"chkPlayerHPAndKill",value:function(){this.playerObj.hp<=0&&(this.killPlayerObject(this.playerObj),this.baseObj.hp=0)}},{key:"chkAllBotsHPAndKill",value:function(){for(var e=0;e<this.enemyObjs.length;e++){var t=this.enemyObjs[e];t.hp<=0&&(this.killBot(t,o.default.getRandomInt(1,8)),e--)}}},{key:"chkAllBulletsHPAndKill",value:function(){for(var e=0;e<this.bulletObjs.length;e++){var t=this.bulletObjs[e];t.hp<=0&&(this.killBullet(t),e--)}}},{key:"tankSoundMoving",value:function(){this.playerObj.pressedKeys.up||this.playerObj.pressedKeys.down||this.playerObj.pressedKeys.right||this.playerObj.pressedKeys.left?this.sound_tank_moving.play():this.sound_tank_moving.pause()}},{key:"stopAllContinuousAction",value:function(){this.sound_tank_moving.pause()}},{key:"is_gameOver",value:function(){return this.baseObj.hp<=0}},{key:"tryToShoot",value:function(){this.playerObj.pressedKeys.fire&&0==this.playerObj.guns.big_gun.reloading&&this.shootBigGun(),this.playerObj.pressedKeys.fire_machinegun&&0==this.playerObj.guns.machinegun.reloading&&this.shootMachineGun()}},{key:"shootBigGun",value:function(){this.instanciateBigGunBullet(this.playerObj,this.playerObj.guns.big_gun.bias_factor),this.go_to_reload(this.playerObj.guns.big_gun,this.playerObj.guns.big_gun.reloading_time),this.playerObj.guns.big_gun.reloading=!0,r.default.playTrack(new Audio,"audio/sounds/player/tank_shoot.mp3")}},{key:"shootMachineGun",value:function(){this.instanciateMachinegunBullet(this.playerObj,this.playerObj.guns.machinegun.bias_factor),this.go_to_reload(this.playerObj.guns.machinegun,this.playerObj.guns.machinegun.reloading_time),this.playerObj.guns.machinegun.reloading=!0,r.default.playTrack(new Audio,"audio/sounds/player/machinegun.mp3")}},{key:"go_to_reload",value:function(e,t){o.default.delay(function(e){e.reloading=!1},t)(e)}},{key:"instanciateBigGunBullet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=o.default.get_force_vector(e.rotation+e.child.rotation),i=e.position.x+t*n.x,a=e.position.y+t*n.y,r=this.createNewGameObject("tank_bullet",i,a,25,25,"bullet");r.movement.x=n.x*r.speed,r.movement.y=n.y*r.speed}},{key:"instanciateMachinegunBullet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=o.default.get_force_vector(e.rotation),i=e.position.x+t*n.x,a=e.position.y+t*n.y,r=this.createNewGameObject("tank_bullet",i,a,10,10,"bullet");r.damage=1,r.range=25,r.hp=1,r.movement.x=n.x*r.speed,r.movement.y=n.y*r.speed}},{key:"moveObjToDecorateLayer",value:function(e,t){o.default.transferObjToNewArr(e,t,this.decorObjs)}},{key:"disappearing",value:function(e,t){o.default.deleteObjFromArr(e,t)}},{key:"killPlayerObject",value:function(e){this.left_bots--,this.reset_movement(e),this.changeSprite(e,e.death_sprite),this.changeSprite(e.child,o.default.setSprite("img/empty_sprite.png"))}},{key:"killBot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.left_bots--,this.reset_movement(e),this.changeSprite(e,e.death_sprite),r.default.playTrack(new Audio,"audio/sounds/enemies/"+e.name+"/death"+t+".wav"),this.moveObjToDecorateLayer(e,this.enemyObjs)}},{key:"objEnteredTheBase",value:function(e,t){this.left_bots--,this.disappearing(e,this.enemyObjs),this.baseObj.hp=this.baseObj.hp-e.entered_damage,r.default.playTrack(new Audio,"audio/sounds/events/"+t)}},{key:"killBullet",value:function(e){this.reset_movement(e),this.changeSprite(e,e.death_sprite),this.moveObjToDecorateLayer(e,this.bulletObjs)}},{key:"shootInBase",value:function(e,t){e.hp=e.hp-1e4,this.baseObj.hp=this.baseObj.hp-e.damage,this.reset_movement(e),r.default.playTrack(new Audio,"audio/sounds/events/"+t)}},{key:"reflectMovement",value:function(e,t){this.playerObj.position.x=this.playerObj.position.x-this.playerObj.movement.x,this.playerObj.position.y=this.playerObj.position.y-this.playerObj.movement.y,this.playerObj.movement.x=-this.playerObj.movement.x/t,this.playerObj.movement.y=-this.playerObj.movement.y/t}},{key:"pushObj2FromObj1",value:function(e,t,n){var i=e.position.x,a=e.position.y,r=t.position.x,o=t.position.y,s=Math.sqrt((r-i)*(r-i)+(o-a)*(o-a)),u=s/s,l=i+(r-i)*(u*=n),c=a+(o-a)*u;t.position.x=l,t.position.y=c}},{key:"chkCollisionsPlayer_bots",value:function(){var e=this;this.enemyObjs.forEach(function(t){if(e.is_objects_intersected(e.playerObj,t))if(e.playerObj.damage_flatten>t.damage_flatten){var n=e.playerObj.damage_flatten-t.damage_flatten;t.hp=t.hp-n,e.pushObj2FromObj1(e.playerObj,t,1.025)}else{e.reflectMovement(e.playerObj,10);var i=t.damage_flatten-e.playerObj.damage_flatten;e.playerObj.hp=e.playerObj.hp-i,r.default.playTrack(new Audio,"audio/sounds/player/metallic_hit.wav"),e.pushObj2FromObj1(t,e.playerObj,1.025)}})}},{key:"chkCollisionsPlayer_base",value:function(){this.is_objects_intersected(this.playerObj,this.baseObj)&&this.pushObj2FromObj1(this.baseObj,this.playerObj,1.025)}},{key:"chkCollisionsBots_base",value:function(){var e=this;this.enemyObjs.forEach(function(t){e.is_objects_intersected(e.baseObj,t)&&e.objEnteredTheBase(t,"enemy_in_base.wav")})}},{key:"chkCollisionsBots_bullet",value:function(){var e=this;this.enemyObjs.forEach(function(t){e.bulletObjs.forEach(function(n){e.is_objects_intersected(n,t)&&(t.hp=t.hp-n.damage,n.hp=n.hp-t.damage_flatten,e.pushObj2FromObj1(n,t,1.4))})})}},{key:"chkCollisionsBullets_base",value:function(){var e=this;this.bulletObjs.forEach(function(t){e.is_objects_intersected(t,e.baseObj)&&e.shootInBase(t,"shoot_in_base.wav")})}},{key:"collisionEvents",value:function(){this.chkCollisionsPlayer_bots(),this.chkCollisionsPlayer_base(),this.chkCollisionsBots_base(),this.chkCollisionsBots_bullet(),this.chkCollisionsBullets_base()}},{key:"tryToTurnLeft",value:function(){this.playerObj.rotation=this.playerObj.rotation-this.playerObj.turning_body_speed,this.is_objects_intersected(this.playerObj,this.baseObj)&&(this.playerObj.rotation=this.playerObj.rotation+1.01*this.playerObj.turning_body_speed)}},{key:"tryToTurnRight",value:function(){this.playerObj.rotation=this.playerObj.rotation+this.playerObj.turning_body_speed,this.is_objects_intersected(this.playerObj,this.baseObj)&&(this.playerObj.rotation=this.playerObj.rotation-1.01*this.playerObj.turning_body_speed)}},{key:"tryToTurnTowerLeft",value:function(){this.playerObj.child.rotation=this.playerObj.child.rotation-this.playerObj.turning_tower_speed}},{key:"tryToTurnTowerRight",value:function(){this.playerObj.child.rotation=this.playerObj.child.rotation+this.playerObj.turning_tower_speed}},{key:"updateRotation",value:function(){this.playerObj.pressedKeys.left?this.tryToTurnLeft():this.playerObj.pressedKeys.right&&this.tryToTurnRight(),this.playerObj.pressedKeys.tower_left?this.tryToTurnTowerLeft():this.playerObj.pressedKeys.tower_right&&this.tryToTurnTowerRight()}},{key:"updateMovementBots",value:function(){var e=this;this.enemyObjs.forEach(function(t){var n=o.default.get_force_vector(t.rotation);t.movement.x=t.movement.x+n.x*t.acceleration,t.movement.y=t.movement.y+n.y*t.acceleration,e.limit_max_speed(t,t.maxSpeed)})}},{key:"updateMovementPlayer",value:function(){var e=o.default.get_force_vector(this.playerObj.rotation);this.playerObj.pressedKeys.up?(this.playerObj.movement.x=this.playerObj.movement.x+e.x*this.playerObj.acceleration,this.playerObj.movement.y=this.playerObj.movement.y+e.y*this.playerObj.acceleration):this.playerObj.pressedKeys.down&&(this.playerObj.movement.x=this.playerObj.movement.x-e.x*this.playerObj.acceleration,this.playerObj.movement.y=this.playerObj.movement.y-e.y*this.playerObj.acceleration);this.playerObj.movement.x=.97*this.playerObj.movement.x,this.playerObj.movement.y=.97*this.playerObj.movement.y,this.limit_max_speed(this.playerObj,this.playerObj.maxSpeed)}},{key:"updateMovement",value:function(){this.updateMovementBots(),this.updateMovementPlayer()}},{key:"updatePositionBots",value:function(){var e=this;this.enemyObjs.forEach(function(t){t.position.x=t.position.x+t.movement.x,t.position.y=t.position.y+t.movement.y,e.detect_boundaries(t)})}},{key:"updatePositionPlayer",value:function(){this.playerObj.position.x=this.playerObj.position.x+this.playerObj.movement.x,this.playerObj.position.y=this.playerObj.position.y+this.playerObj.movement.y,this.detect_boundaries(this.playerObj)}},{key:"updatePositionBullets",value:function(){var e=this;this.bulletObjs.forEach(function(t){t.position.x=t.position.x+t.movement.x,t.position.y=t.position.y+t.movement.y,t.range--,t.range<0&&(t.size.width=2*t.size.width,t.size.height=2*t.size.height,e.killBullet(t)),e.detect_boundaries(t)})}},{key:"updatePosition",value:function(){this.updatePositionBots(),this.updatePositionPlayer(),this.updatePositionBullets()}},{key:"detect_boundaries",value:function(e){e.position.x>this.width?e.position.x=e.position.x-this.width:e.position.x<0&&(e.position.x=e.position.x+this.width),e.position.y>this.height?e.position.y=e.position.y-this.height:e.position.y<0&&(e.position.y=e.position.y+this.height)}},{key:"limit_max_speed",value:function(e,t){e.movement.x>t?e.movement.x=t:e.movement.x<-t&&(e.movement.x=-t),e.movement.y>t?e.movement.y=t:e.movement.y<-t&&(e.movement.y=-t)}},{key:"reset_movement",value:function(e){e.movement.x=0,e.movement.y=0}},{key:"changeSprite",value:function(e,t){e.sprite=t}},{key:"drawDecor",value:function(){var e=this;this.decorObjs.forEach(function(t){e.ctx.drawImage(t.sprite,t.position.x-t.size.width/2,t.position.y-t.size.height/2,t.size.width,t.size.height)})}},{key:"drawBullets",value:function(){var e=this;this.bulletObjs.forEach(function(t){e.ctx.save(),e.ctx.translate(t.position.x,t.position.y),e.ctx.drawImage(t.sprite,-t.size.width/2,-t.size.height/2,t.size.width,t.size.height),e.ctx.restore()})}},{key:"drawEnemies",value:function(){var e=this;this.enemyObjs.forEach(function(t){e.ctx.save(),e.ctx.translate(t.position.x,t.position.y),e.ctx.rotate(Math.PI/180*t.rotation),e.ctx.drawImage(t.sprite,-t.size.width/2,-t.size.height/2,t.size.width,t.size.height),e.ctx.restore()})}},{key:"drawBase",value:function(){this.ctx.drawImage(this.baseObj.sprite,this.baseObj.position.x-this.baseObj.size.width/2,this.baseObj.position.y-this.baseObj.size.height/2,this.baseObj.size.width,this.baseObj.size.height),this.draw_HP_on_Base(this.baseObj.hp),this.draw_left_zombies(this.left_bots)}},{key:"drawPlayer",value:function(){this.ctx.save(),this.ctx.translate(this.playerObj.position.x,this.playerObj.position.y),this.ctx.rotate(Math.PI/180*this.playerObj.rotation),this.ctx.drawImage(this.playerObj.sprite,-this.playerObj.size.width/2,-this.playerObj.size.height/2,this.playerObj.size.width,this.playerObj.size.height);var e=this.playerObj.child;this.ctx.rotate(Math.PI/180*e.rotation),this.ctx.drawImage(e.sprite,-e.size.width/2,-e.size.height/2,e.size.width,e.size.height),this.ctx.restore()}},{key:"render",value:function(){this.ctx.clearRect(0,0,this.width,this.height),this.drawDecor(),this.drawEnemies(),this.drawBullets(),this.drawBase(),this.drawPlayer()}},{key:"showLoseWindow",value:function(){document.getElementById("lose_wind").removeAttribute("style")}},{key:"showWinWindow",value:function(){document.getElementById("win_wind").removeAttribute("style")}},{key:"draw_HP_on_Base",value:function(e){this.ctx.font="40px Arial",this.ctx.fillStyle="black";var t=e;this.ctx.fillText(t,this.baseObj.position.x+25,this.baseObj.position.y+75)}},{key:"draw_left_zombies",value:function(e){this.ctx.font="40px Arial",this.ctx.fillStyle="black";var t=e;this.ctx.fillText(t,this.baseObj.position.x-85,this.baseObj.position.y+75)}},{key:"getArrTurnedPoints",value:function(e){var t=void 0,n=void 0,i=[];return e.colliders.points.forEach(function(a){n=o.default.myTranslate(e.position.x,e.position.y,a),t=o.default.turning_point_by_angle(n.x,n.y,e.position.x,e.position.y,e.rotation),i.push({x:t.x,y:t.y})}),i}},{key:"is_objects_intersected",value:function(e,t){for(var n=this.getArrTurnedPoints(e),i=this.getArrTurnedPoints(t),a=!1,r=0;r<n.length-1;r++)for(var s=n[r].x,u=n[r].y,l=n[r+1].x,c=n[r+1].y,f=0;f<i.length-1;f++){var d=i[f].x,h=i[f].y,p=i[f+1].x,y=i[f+1].y;if(o.default.is_lines_intersected(s,u,l,c,d,h,p,y)){a=!0;break}if(a)break}return a}},{key:"drawObjectsColliders",value:function(){var e=this;this.enemyObjs.forEach(function(t){e.drawColliderObj(t)}),this.drawColliderObj(this.playerObj),this.drawColliderObj(this.baseObj),this.bulletObjs.forEach(function(t){e.drawColliderObj(t)})}},{key:"drawColliderObj",value:function(e){var t=this;this.ctx.beginPath();var n=this.getArrTurnedPoints(e);this.ctx.moveTo(n[0].x,n[0].y),this.getArrTurnedPoints(e).forEach(function(e){t.ctx.lineTo(e.x,e.y)}),this.ctx.fill()}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(0)),a=u(n(15)),r=u(n(86)),o=u(n(1)),s=u(n(33));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,a){(0,i.default)(this,e),this.width=t,this.height=n,this.gameEngine=new r.default(t,n,a),this.playerObj,this.zombie_quantity=500,this.boss_quantity=3}return(0,a.default)(e,[{key:"startGame",value:function(){var e=this.gameEngine;e.left_bots=this.zombie_quantity,e.createCanvas(),this.setGameObjects(),e.startGameLoop()}},{key:"keydown",value:function(e){this.playerObj.pressedKeys[e]=!0}},{key:"keyup",value:function(e){this.playerObj.pressedKeys[e]=!1}},{key:"setGameObjects",value:function(){var e=this.gameEngine;this.build_map(this.width,this.height,128),this.playerObj=e.createNewGameObject("tank",650,580,75,50,"player"),this.playerObj.child=e.createNewGameObject("tank_tower",this.playerObj.position.x,this.playerObj.position.y,this.playerObj.size.width/.53,this.playerObj.size.height/1.84,"child"),e.createNewGameObject("base",this.width/2,this.height/2,200,200,"base");var t=this.zombie_quantity;this.wavesZombieSpawner(0,6e4,t,100);var n=this.boss_quantity;this.wavesBossSpawner(3e4,6e4,n)}},{key:"wavesZombieSpawner",value:function(e,t,n,i){var a=this,r=e;function s(e){a.gameEngine.is_gameOver()||a.spawnsZombies(e)}for(;n>0;){o.default.delay(s,r)(i),n-=i,r+=t}}},{key:"spawnsZombies",value:function(e){for(var t=this.gameEngine,n=Math.abs(e/1.5),i=e-n,a=0;a<n;a++){t.createNewGameObject("zombie",0+25*a,0,58,63,"enemy").hp=2}for(var r=0;r<i;r++){t.createNewGameObject("zombie",0,25*r,58,63,"enemy").hp=2}}},{key:"wavesBossSpawner",value:function(e,t,n){var i=this,a=e;function r(){i.gameEngine.is_gameOver()||i.spawnBoss()}for(;n>0;){o.default.delay(r,a)(),n-=1,a+=t}}},{key:"spawnBoss",value:function(){var e=this.gameEngine.createNewGameObject("zombie",0,this.height/2,290,315,"enemy");s.default.playTrack(new Audio,"audio/sounds/events/boss_howl.wav"),e.hp=50,e.entered_damage=10,e.damage_flatten=51}},{key:"build_map",value:function(e,t,n){var i=this.gameEngine;!function(e,t,n){for(var a=Math.floor(e/n),r=Math.floor(t/n),o=0;o<=r;o++)for(var s=0;s<=a;s++){var u=n/2+s*n,l=n/2+o*n;i.createNewGameObject("sand",u,l,n,n,"decorate")}}(e,t,n),function(e,t,n){function a(e){return n/2+e*n}function r(e,t,r){i.createNewGameObject(e,a(t),a(r),n,n,"decorate")}r("beach2_lm_02",0,0),r("beach2_lm_03",0,1),r("lmg_01",0,2),r("beach2_bl",0,3),r("beach2_tl",0,4),r("beach2_lm_01",0,5),r("beach2_bl",0,6),r("grass",1,0),r("grass",1,1),r("grass",1,2),r("beach2_bm_02",1,3),r("beach2_tm_02",1,4),r("grass",1,5),r("beach2_bm_01",1,6),r("grass",2,0),r("grass",2,1),r("grass",2,2),r("bm_01_grass",2,3),r("tr_grass",2,4),r("rm_05_grass",2,5),r("beach2_br",2,6),r("grass",3,0),r("grass",3,1),r("grass",3,2),r("bm_01",3,3),r("grass",4,0),r("grass",4,1),r("grass",4,2),r("bm_02_grass",4,3),r("grass",5,0),r("grass",5,1),r("grass",5,2),r("diagonal_neighbour_grass_rotated",5,3),r("bl_grass",5,4),r("grass",6,0),r("grass",6,1),r("grass",6,2),r("grass",6,3),r("bm_02",6,4),r("grass",7,0),r("grass",7,1),r("grass",7,2),r("06_grass",7,3),r("r_up_diagonal_grass",7,4),r("grass",8,0),r("grass",8,1),r("grass",8,2),r("bm_01_grass",8,3),r("grass_01",8,4),r("bush_big",8,5),r("grass",9,0),r("grass",9,1),r("grass",9,2),r("bm_02_grass",9,3),r("tl_grass",9,4),r("lm_02",9,5),r("bl_grass",9,6),r("grass",10,0),r("grass",10,1),r("grass",10,2),r("bm_03",10,3),r("tm_01_grass",10,4),r("grass",10,5),r("bm_01_grass",10,6),r("beach2_rm_01",11,0),r("beach2_rm_02",11,1),r("beach2_rm_03",11,2),r("br_grass",11,3),r("down_diagonal_grass",11,4),r("rm_05_grass",11,5),r("br_grass",11,6),r("road_asphalt_damaged_hor",0,4),r("road_asphalt_damaged_hor",1,4),r("road_asphalt_damaged_to_clean_hor",2,4),r("road_asphalt_clean_hor",3,4),r("road_asphalt_clean_hor",4,4),r("road_asphalt_clean_hor",5,4),r("road_asphalt_clean_hor",6,4),r("road_asphalt_clean_hor",7,4),r("road_asphalt_clean_to_damaged_hor",8,4),r("road_asphalt_damaged_hor",9,4),r("road_asphalt_damaged_hor",10,4),r("road_asphalt_damaged_hor",11,4),r("road_asphalt_damaged_hor",12,4)}(0,0,n)}}]),e}();t.default=l},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(14);i(i.S+i.F*!n(4),"Object",{defineProperty:n(5).f})},function(e,t,n){n(89);var i=n(6).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(0)),a=u(n(15)),r=u(n(33)),o=u(n(1)),s=u(n(87));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,i.default)(this,e),this.intro=new Audio,r.default.playTrack(this.intro,"audio/music/intro.mp3"),this.game,this.musicPlaylist}return(0,a.default)(e,[{key:"startGameButton",value:function(){document.getElementById("gameMenuID").setAttribute("style","display:none"),this.game=new s.default(1600,900,"#686C5E"),this.init_game_control_input(),r.default.pausePlay(this.intro),this.intro=null,this.startNewPlaylist(!0),this.game.startGame()}},{key:"restartGame",value:function(){var e=document.getElementsByTagName("canvas");e[0].parentNode.removeChild(e[0]),this.game=new s.default(1600,900,"#686C5E"),this.game.startGame()}},{key:"randomTrack",value:function(){this.stopPlayList(),this.startNewPlaylist()}},{key:"stopPlayList",value:function(){r.default.pausePlay(this.musicPlaylist),this.musicPlaylist=null}},{key:"startNewPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=["audio/music/Sick Bubblegum (minus).mp3","audio/music/Living Dead Girl (minus).mp3","audio/music/Dragula.mp3","audio/music/Superbeast.mp3"];o.default.shuffleCollection(t),this.musicPlaylist=r.default.playBackGroundPlaylist(t,e)}},{key:"init_game_control_input",value:function(){var e=this,t={68:"right",65:"left",87:"up",83:"down",37:"tower_left",39:"tower_right",32:"fire",55:"random_track",56:"decreaseVol",57:"increaseVol",48:"musicOff_On",38:"fire_machinegun"};window.addEventListener("keydown",function(n){switch(t[n.keyCode]){case"decreaseVol":r.default.decreaseMusicVol(e.musicPlaylist,.05);break;case"increaseVol":r.default.increaseMusicVol(e.musicPlaylist,.05)}e.game.keydown(t[n.keyCode])},!1),window.addEventListener("keyup",function(n){switch(t[n.keyCode]){case"musicOff_On":r.default.musicPause_Unpause(e.musicPlaylist);break;case"random_track":e.randomTrack()}e.game.keyup(t[n.keyCode])},!1)}}]),e}();t.default=l},function(e,t,n){"use strict";var i,a=function(e){return e&&e.__esModule?e:{default:e}}(n(92));window.onload=function(){document.getElementById("loadingBut").style.display="none";var e=document.getElementById("startBut");e.style.display="none",i=new a.default,e.addEventListener("click",function(){i.startGameButton()}),document.getElementById("startBut").removeAttribute("style")}}]);